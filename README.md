# ftc-scoring-web-client

This is a responsive front-end for viewing the reports generated by the FTC scoring software.

## Installation
1. Copy everything from the `public` directory in this repository to your webserevr (although you should feel free to omit the `sample-data` directory).
2. Get the scoring software set up for your event (including the teams, the event name, etc.)
3. Set up a process to retrieve the reports generated by the scoring software, and upload them to your webserver into the `cache` directory.
4. Edit the `js/config.json` file from this repository to point to your event data that was copied into the `cache` directory

## Config.json
The `config.json` file in the `js` directory is the file that tells the `ftc-scoring-web-client` where to find your data, and how your event is setup - specifically if it is a dual division event, or if you aren't using divisions.  Note that to the web-client, a no division event is really just a single division event.

The config.json contains an object with two keys:

    {
      "name": "",
      "divisions": [
      ]
    }
`name` is the name of the event which is displayed only when there is just one division.

`divisions` is an array of division objects - there must either be one or two divisions in this array.

A division object looks like this:

      {
        "name":"Ignored",
        "sources": {
          "matches":"cache/Matches_Empty.html",
          "rankings":"cache/Rankings_Empty.html",
          "details":"cache/MatchResultsDetails_Empty.html",
          "teams":"cache/TeamInfo_Empty.html"
        }
      }
The `name` is the name of the division - ignored for single division events, but used for dual division events to create buttons for the user to switch between the two.

The `sources` object contains paths to each of data files the web-client needs.  These files are the ones copied directly from the `reports` direcory of the scoring software into the `cache` directory of your web server.  The paths here are relative to the web-client's `index.html` file.

The `ftc-scoring-web-client` uses the Match List, Rankings, Match Results with Details, and Team Info reports generated by the scoring software.

### Sample Single Division (i.e. no divisions) config.json
    {
      "name": "",
      "divisions": [
        {
          "name":"Ignored",
          "sources": {
            "matches":"cache/Matches_Empty.html",
            "rankings":"cache/Rankings_Empty.html",
            "details":"cache/MatchResultsDetails_Empty.html",
            "teams":"cache/TeamInfo_Empty.html"
          }
        }
      ]
    }


### Sample Dual Division config.json
    {
      "name": "",
      "divisions": [
        {
          "name":"Lorem",
          "sources": {
            "matches":"cache/Matches_My_Event_Lorem.html",
            "rankings":"cache/Rankings_My_Event_Lorem.html",
            "details":"cache/MatchResultsDetails_My_Event_Lorem.html",
            "teams":"cache/TeamInfo_My_Event_Lorem.html"
          }
        },
        {
          "name":"Ipsum",
          "sources": {
            "matches":"cache/Matches_My_Event_Ipsum.html",
            "rankings":"cache/Rankings_My_Event_Ipsum.html",
            "details":"cache/MatchResultsDetails_My_Event_Ipsum.html",
            "teams":"cache/TeamInfo_My_Event_Ipsum.html"
          }
        }
      ]
    }

### Dual Division Final Matches
When a both divisions have found a winner, and the event is in its final matches, you can show the Finals matches in a third tab, alongside the two division tabs.  To do this, add a third "Finals" division to the config.json file, in the "divisions" array:

    {
      "name": "",
      "divisions": [
        {
          ... first division config
        },
        {
          ... second division config
        },
        {
          "name":"Finals",
          "sources": {
            "details":"cache/MatchResultsDetails_My_Event_Finals.html"
          }
        }
      ]
    }

The  only essential file for the finals is the "MatchResultsDetails_" html file - as shown above.  The team info is pulled from the two divisions' "TeamInfo_" html files.

## To do
- when highlighting found teams, embolden the found team number (currently only highlights the row the team is in)
- explain how to configure & deploy
- convert inline html creation with templates
